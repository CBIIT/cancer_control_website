var AllArchivedWebinars_ds=[];var All_CURRENT_Webinars_ds=[];var All_Future_Webinars_ds=[];var DISPLAY_ArchivedWebinars_ds=[];var DISPLAY_FutureWebinars_ds=[];var DISPLAY_CurrentWebinars_ds=[];var selectedCategories='|';var selectedYears='|';var selectedPresenters='|';var selectedSeries='|';var GetAllArchivedWebinars_url="https://cyberseminar.cancercontrolplanet.org/application_WS/IS_Applications.asmx/JSON_ImplementationScience_list_ALL_Archive_webinars";var GetAllCurrentWebinars_url="https://cyberseminar.cancercontrolplanet.org/application_WS/IS_Applications.asmx/JSON_ImplementationScience_list_CURRENT_webinars";var GetAllFutureWebinars_url="https://cyberseminar.cancercontrolplanet.org/application_WS/IS_Applications.asmx/JSON_ImplementationScience_list_FUTURE_webinars";String.prototype.replaceAll=function(str1,str2,ignore){return this.replace(new RegExp(str1.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g,"\\$&"),(ignore?"gi":"g")),(typeof(str2)=="string")?str2.replace(/\$/g,"$$$$"):str2)}
$(window).on("load",function(e){initialize();$("#BTN_Reset").on("click",function(){$('input[type=checkbox]').each(function(){$(this).prop('checked',!1)});selectedCategories='|';selectedYears='|';selectedPresenters='|';selectedSeries='|';RunSearch()})});function initialize(){CallFutureData()}
function CallFutureData(){$.ajax({type:"POST",crossDomain:!0,contentType:"application/json; charset=utf-8",url:GetAllFutureWebinars_url,data:{str_CallBack:"SetAll_FUTURE_Webinars"},dataType:"jsonp",success:SetAll_FUTURE_Webinars})}
function CallCurrentData(){$.ajax({type:"POST",crossDomain:!0,contentType:"application/json; charset=utf-8",url:GetAllCurrentWebinars_url,data:{str_CallBack:"SetAll_Current_Webinars"},dataType:"jsonp",success:SetAll_Current_Webinars})}
function CallArchiveData(){$.ajax({type:"POST",crossDomain:!0,contentType:"application/json; charset=utf-8",url:GetAllArchivedWebinars_url,data:{str_CallBack:"SetAllArchivedWebinars"},dataType:"jsonp",success:SetAllArchivedWebinars})}
function SetAll_FUTURE_Webinars(data){All_Future_Webinars_ds=data;CallCurrentData()}
function SetAll_Current_Webinars(data){All_CURRENT_Webinars_ds=data;CallArchiveData()}
function SetAllArchivedWebinars(data){AllArchivedWebinars_ds=data;RunSearch()}
function CategoryClicked(PK_Category){selectedCategories="|";var TempStr='';$('input[type=checkbox]').each(function(){if(this.id.indexOf("CKCategory_")>=0){TempStr=this.id.replace("CKCategory_","");if(this.checked){selectedCategories+=TempStr+"|"}}});RunSearch()}
function YearClicked(YearDisplay){selectedYears="|";var TempStr='';$('input[type=checkbox]').each(function(){if(this.id.indexOf("CKCYear_")>=0){TempStr=this.id.replace("CKCYear_","");if(this.checked){selectedYears+=TempStr+"|"}}});RunSearch()}
function PresenterClicked(YearDisplay){selectedPresenters="|";var TempStr='';$('input[type=checkbox]').each(function(){if(this.id.indexOf("CKPresenter_")>=0){TempStr=this.id.replace("CKPresenter_","");if(this.checked){selectedPresenters+=TempStr+"|"}}});RunSearch()}
function SeriesClicked(PK_Series){selectedSeries="|";var TempStr='';$('input[type=checkbox]').each(function(){if(this.id.indexOf("PKSeries_")>=0){TempStr=this.id.replace("PKSeries_","");if(this.checked){selectedSeries+=TempStr+"|"}}});RunSearch()}
function RunSearch(){var contentString='';var PresenterString='';var presentertest='';var FK_PresentersDB='';var tempflag=!1;var NeedsToDisplay=!0;DISPLAY_ArchivedWebinars_ds.length=0;DISPLAY_FutureWebinars_ds.length=0;DISPLAY_CurrentWebinars_ds.length=0;$("#dv_FutureWebinars").empty();$("#dv_CurrentWebinars").empty();for(var i=0;i<All_CURRENT_Webinars_ds.length;i++){if(NeedsToDisplay===!0){DISPLAY_CurrentWebinars_ds.push(All_CURRENT_Webinars_ds[i]);$('#intro_text').addClass('col-md-6').removeClass('col-md-12')}}
NeedsToDisplay=!0;for(var i=0;i<All_Future_Webinars_ds.length;i++){if(NeedsToDisplay===!0){DISPLAY_FutureWebinars_ds.push(All_Future_Webinars_ds[i]);$('#intro_text').addClass('col-md-6').removeClass('col-md-12')}}
for(var i=0;i<AllArchivedWebinars_ds.length;i++){NeedsToDisplay=!0;if((selectedYears!=="|")&&(selectedYears.indexOf(AllArchivedWebinars_ds[i].YearDisplay)===-1)){NeedsToDisplay=!1}
if((selectedCategories!=="|")&&(selectedCategories.indexOf(AllArchivedWebinars_ds[i].FK_Category)===-1)){NeedsToDisplay=!1}
if(selectedPresenters!=="|"){tempflag=!1;FK_PresentersDB=AllArchivedWebinars_ds[i].FK_Presenters;var parts=selectedPresenters.split('|');$.each(parts,function(i){presentertest="|"+parts[i]+"|";if(FK_PresentersDB.indexOf(presentertest)>=0){tempflag=!0}});if(tempflag===!1){NeedsToDisplay=!1}}
if((selectedSeries!=="|")&&(selectedSeries.indexOf(AllArchivedWebinars_ds[i].FK_Series)===-1)){NeedsToDisplay=!1}
if(NeedsToDisplay===!0){DISPLAY_ArchivedWebinars_ds.push(AllArchivedWebinars_ds[i])}}
$('#pager').paging({data:DISPLAY_ArchivedWebinars_ds,contentHolder:'dv_ArchiveWebinars',template:'contentTemplate',errorTemplate:'contentErrorTemplate',perPage:5,pageLengths:[3,5,10,20],informationToShow:['PK_webinar','topic','YearDisplay','MonthDisplay','Presenters','ImageHTML','categoryHTML'],informationToRefineBy:['topic','YearDisplay'],showOptions:!0,showSearch:!1});$("#contentTemplate_Future").tmpl(DISPLAY_FutureWebinars_ds).appendTo("#dv_FutureWebinars");$("#contentTemplate_Current").tmpl(DISPLAY_CurrentWebinars_ds).appendTo("#dv_CurrentWebinars")}
String.prototype.replaceAll=function(str1,str2,ignore){return this.replace(new RegExp(str1.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g,"\\$&"),(ignore?"gi":"g")),(typeof(str2)=="string")?str2.replace(/\$/g,"$$$$"):str2)}